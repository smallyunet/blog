<!-- Stable asset version (for cache busting without full-site churn)--><!DOCTYPE html><html lang="zh-cn"><head><title>以太坊 AA 钱包的致命问题是什么</title><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- SEO basics--><meta name="description"><!-- Open Graph & Twitter--><link rel="canonical" href="https://smallyu.net/2025/10/24/以太坊AA钱包的致命问题是什么/"><meta property="og:title" content="以太坊 AA 钱包的致命问题是什么"><meta property="og:type" content="article"><meta property="og:url" content="https://smallyu.net/2025/10/24/以太坊AA钱包的致命问题是什么/"><meta property="og:site_name" content="smallyu的博客"><meta name="twitter:card" content="summary_large_image"><!-- Browser UI color--><meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0f1115"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><!-- stylesheets--><!-- Use a stable, configurable asset version to prevent full-site churn on every build.--><!-- Set `asset_version` in theme _config.yml when you actually change CSS/JS.--><link rel="stylesheet" href="/css/xcode.min.css?v=2025-10-13"><link rel="stylesheet" href="/css/post.css?v=2025-10-13"><!-- unified typography overrides for both home and post pages--><link rel="stylesheet" href="/css/typography.css?v=2025-10-13"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="smallyu的博客" type="application/atom+xml">
</head><body><div><div class="inner"><h1>以太坊 AA 钱包的致命问题是什么</h1><div class="time">2025-10-24</div><div class="title-margin"></div><p>到目前为止，最新的 AA（Account Abstraction）钱包规范仍然是基于 EIP-4337 实现的。</p>
<p>对于 AA 钱包存在的问题，像操作繁琐、Bundler 中心化、可用性低、生态支持不完善、合约安全风险高等表面上的问题就不多说了。</p>
<p>一句话描述 AA 钱包在干什么事情：AA 钱包能实现 “对账户资金的授权” 与 “把交易广播到链上” 这两个行为的分离。</p>
<h3 id="AA-钱包的功能"><a href="#AA-钱包的功能" class="headerlink" title="AA 钱包的功能"></a>AA 钱包的功能</h3><p>AA 钱包的功能，体现到具体的交易行为上，就是如果没有 AA 钱包，你得自己发交易。有了 AA 钱包，你可以只签名，不发交易，让其他人代替你把交易发到链上就行。</p>
<p>为什么 AA 钱包能做到这一点？因为 AA 钱包本质上就是一个合约，所以你会发现，AA 钱包的大多数 “优点”，其实是智能合约本身就具备的功能，像什么社交恢复、批量操作等。唯一能带来特殊体验的，只有 “代付手续费” 这个特性。</p>
<p>那为什么 AA 钱包能实现代付手续费这个功能？因为 AA 钱包的所有操作实际上不是交易，而是 UserOperation，有一个链下的 Bunlder 程序会把这些用户操作，通过发交易批量提交到链上。</p>
<h3 id="为什么以太坊需要-AA-钱包"><a href="#为什么以太坊需要-AA-钱包" class="headerlink" title="为什么以太坊需要 AA 钱包"></a>为什么以太坊需要 AA 钱包</h3><p>为什么以太坊需要 AA 钱包？因为以太坊的共识层协议要求，交易必须由一个 EOA 地址来发起。这个 EOA 地址，就是交易结构中的 from 字段，以太坊节点会从这个 from 地址计算手续费、扣手续费、验证交易有效性等。</p>
<p>合约没有私钥，交易不可能由合约发起。在这样的规则约束下，就导致以太坊所有的链上行为，都必须由某一个 EOA 地址来发起交易。</p>
<p>你可能觉得不对，部署一个合约，然后让合约来验证 data 里得签名数据就好了。data 里的签名数据，未必需要和发起交易的地址一致。</p>
<p>没错，事实上，AA 钱包的发展链路是：meta-transcations -&gt; EIP-2771 -&gt; EIP-4337。</p>
<p>这些方案在解决的问题本质上都是：如何让使用资金的权限，与发起链上交易的行为分离。</p>
<p>而引起这一系列复杂协议的根源，来自于以太坊 “交易必须由一个 EOA 地址来发起” 的规则。</p>
<h3 id="为什么以太坊有这个规则"><a href="#为什么以太坊有这个规则" class="headerlink" title="为什么以太坊有这个规则"></a>为什么以太坊有这个规则</h3><p>为什么以太坊要有 “交易必须由一个 EOA 地址来发起” 这个规则？</p>
<p>因为以太坊的账户模型，是账户-余额模型。协议必须要知道，一笔交易的手续费从哪里扣。</p>
<h3 id="比特币不存在这个问题"><a href="#比特币不存在这个问题" class="headerlink" title="比特币不存在这个问题"></a>比特币不存在这个问题</h3><p>比特币的 PSBT 交易格式，可以实现原生的多签。功能是多个钱包只负责签名，最终由另外一个钱包把交易广播出去就可以。</p>
<p>多签交易，就是典型的把对资金的授权，与广播交易行为分离开的场景。</p>
<p>为什么比特币不存在以太坊的这个问题？因为比特币使用的是 UTXO 模型，交易根本没有 from 地址，有的是多个输入脚本，节点只需要校验交易是否符合脚本的解锁规则，而不需要考虑手续费从哪里扣的问题。</p>
<h3 id="AA-钱包的定位"><a href="#AA-钱包的定位" class="headerlink" title="AA 钱包的定位"></a>AA 钱包的定位</h3><p>我们梳理一下这个链条：以太坊使用账户-余额模型 -&gt; 交易必须由 EOA 地址发起 -&gt; 需要 AA 钱包。</p>
<p>AA 钱包在干的事情，实际上是在给以太坊的账户模型打补丁，为了修补账户-余额模型相比 UTXO 模型的不足，才有了 AA 钱包这个东西。AA 钱包是在不涉及以太坊协议变更的前提下，诞生出的一种 workaround 方案。</p>
<p>从地位上来说，AA 钱包对于以太坊的地位，类似于铭文&#x2F;符文&#x2F;RGB 对于比特币的地位。在比特币生态里，因为没有图灵完备的脚本，所以在不触及比特币协议变更的前提下，搞出了铭文&#x2F;符文&#x2F;RGB 这些 workaround方案。</p>
<p>AA 钱包需要链下的 bundler 来提交交易，与符文需要链下的索引器来维护符文的数据状态，是不是一个意思，都严重依赖于链下的程序？</p>
<p>而事实上我们都知道，比特币生态的玩法，至今都还没有被主流社会认可。</p>
<p>假如 AA 钱包未来有一天能被社会大众认可，那也就意味着 workaround 方案在区块链世界中是可行的。对于整个生态的叙事都将引起巨大的改变。</p>
<h3 id="AA-钱包的未来"><a href="#AA-钱包的未来" class="headerlink" title="AA 钱包的未来"></a>AA 钱包的未来</h3><p>综上所述，我们能得出的结论是，以太坊永远不可能支持 “原生” 的 AA 的钱包（在协议层面支持）。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这些结论，对于技术人员的指导意义在于：</p>
<ol>
<li>对 AA 钱包祛魅，不要以为 AA 钱包是高级、先进的技术。</li>
<li>可以学习、使用、研究 AA 钱包，但是千万不要真的 “相信” AA 钱包的技术理念。</li>
</ol>
</div></div></body><!-- Defer non-critical scripts for better performance--><script defer src="/js/jquery.min.js?v=2025-10-13"></script><script defer src="/js/highlight.min.js?v=2025-10-13"></script><script defer src="/js/main.js?v=2025-10-13"></script><script defer src="/js/lightbox.js?v=2025-10-13"></script><script defer src="/js/bootstrap.min.js?v=2025-10-13"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5JRBZ6P1W3"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-5JRBZ6P1W3');</script></html>